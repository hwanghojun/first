<!DOCTYPE HTML>
<html>
<head>
    <title>Document</title>
</head>
<body>
    <script>
        let x=0.1 +0.2;
        console.log(x); //0.3
        //0.300000000000004
        //64비트 부동소수점

        console.log(1/2);
        console.log(2/3);

        //0.1 = 1/10
        //0.2 = 1/5

        console.log((0.1).toString(2)); //toString(2진수)
        //0.00011001100---
        //64비트부동소수점

        //1비트 - 양수 0 , 음수 1
        //11비트 - 지수부 - 2^(n-1)-1 + m  --n은 11비트 --m은 소수점을 1이 나올때까지 옮기는 수 왼쪽은 + 오른쪽으로는 -
        //52비트 - 가수부 
        //자바는 연산의 소수점 64비트후 반올림이라는 치명적인 단점때문에 다른 언어를 쓰자
        //2^10 =1024 -1 -4 = 1019

        console.log((1019).toString(2));
        //01111111011

        console.log((0.2).toString(2));
        //0.001100110011001100110011001100110011001100110011001101
        //1비트 -0 (양수라서)
        //11비트 -
        //2^10=1024 -1 -3 =1020
        console.log((1020).toString(2));
        //01111111100

        //0.2 ==> 0.001100110011001100110011001100110011001100110011001101
        //0.1 ==> 0.0001100110011001100110011001100110011001100110011001101
        //0.3 ==> 0.0100110011001100110011001100110011001100110011001100111
        
        console.log(parseInt('0100110011001100110011001100110011001100110011001100111',2) * Math.pow(2,-55) );
        

        //2진수로 변환되어 64비트부동소수점으로 합하여 이런 오류가 발생한다.
        //BigNumber.js
        //Decimal.js
        //Big.js 자바스크립 오류없이 연산되는 외부프로그램

        let x2 = 9999999999999999;
        //       9007199254740991 안정적인 수치 최대값
        console.log(x2);
        console.log(Number.MAX_SAFE_INTEGER); //안정적인 수치 최대값
        

    </script>
</body>
</html>